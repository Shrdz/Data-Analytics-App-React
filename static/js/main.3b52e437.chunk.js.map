{"version":3,"sources":["components/DoughnutChart.js","components/DashboardComponent.js","App.js","reportWebVitals.js","index.js"],"names":["DoughnutChart","props","advIdArray","dataArray","chartData","data","map","id","push","advertiserId","CM001_percent","color","i","Math","floor","random","labels","datasets","label","backgroundColor","className","width","height","options","maintainAspectRatio","DashBoard","state","startDate","Date","endDate","getTokenAndData","bind","getDateRange","this","setState","prevState","fetchUpdatedDate","getData","fetch","method","headers","body","JSON","stringify","email","password","rememberMe","then","response","json","ok","Error","res","token","localStorage","setItem","catch","error","alert","console","getItem","organization","view","result","minDate","maxDate","dateFormat","selected","onChange","date","dateChangeFetchData","getTime","selectsStart","placeholderText","selectsEnd","onClick","Component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b52e437.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport '../App.css';\r\n\r\nfunction DoughnutChart(props) {\r\n  let advIdArray = [], dataArray = [];\r\n  let chartData = props.data;\r\n  chartData.map(id => advIdArray.push(id.advertiserId));\r\n  chartData.map(id => dataArray.push(+id.CM001_percent * 100));\r\n\r\n  //generate random color\r\n  function getRandomColor() {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  }\r\n\r\n  let color = chartData.map(getRandomColor);\r\n  const data = {\r\n    labels: advIdArray,\r\n    datasets: [\r\n      {\r\n        label: 'Advertisement',\r\n        data: dataArray,\r\n        backgroundColor: color\r\n      }\r\n    ]\r\n  }\r\n\r\n  return (\r\n    <div className=\"chart\">\r\n      <Doughnut data={data} width={400} height={400} options={{ maintainAspectRatio: false }} />\r\n    </div>\r\n  );\r\n\r\n}\r\nexport default DoughnutChart;","import React, { Component } from \"react\";\r\nimport DatePicker from 'react-datepicker';\r\nimport DoughnutChart from \"./DoughnutChart\";\r\nimport '../App.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nclass DashBoard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            startDate: new Date(),\r\n            endDate: new Date(),\r\n            data: []\r\n        }\r\n        this.getTokenAndData = this.getTokenAndData.bind(this);\r\n        this.getDateRange = this.getDateRange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getTokenAndData();\r\n    }\r\n\r\n    dateChangeFetchData(startDate, endDate) {\r\n        // console.log(startDate)\r\n        // console.log(endDate)\r\n        if (startDate) {\r\n            this.setState(prevState => ({\r\n                ...prevState,\r\n                startDate: startDate\r\n            }), this.fetchUpdatedDate)\r\n        }\r\n        if (endDate) {\r\n            this.setState(prevState => ({\r\n                ...prevState,\r\n                endDate: endDate\r\n            }), this.fetchUpdatedDate)\r\n        }\r\n    }\r\n\r\n    fetchUpdatedDate() {\r\n        if (this.state.startDate && this.state.endDate) {\r\n            this.getData(this.state.startDate + '', this.state.endDate + '');\r\n        }\r\n    }\r\n\r\n    getTokenAndData() {\r\n        let body = { email: \"candidate@sigmoid.com\", password: \"Sigmoid#123\", rememberMe: true };\r\n        fetch(\"https://sigviewauth.sigmoid.io/signIn\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        })\r\n            .then(response => {\r\n                let json = response.json();\r\n                if (!response.ok) {\r\n                    throw new Error(\"Network response was not ok\");\r\n                }\r\n                return json;\r\n            }).then(res => {\r\n                this.setState({ token: res });\r\n                localStorage.setItem('token', this.state.token.token);\r\n                this.getDateRange();\r\n\r\n            })\r\n            .catch(error => {\r\n                alert(\"Something went wrong!\");\r\n                console.error(\r\n                    \"There has been a problem with your fetch operation:\",\r\n                    error\r\n                );\r\n            });\r\n    }\r\n\r\n    getDateRange() {\r\n        let body = { organization: \"DemoTest\", view: \"Auction\" };\r\n        fetch(\"https://sigviewauth.sigmoid.io/api/v1/getDateRange\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"x-auth-token\": localStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify(body)\r\n        })\r\n            .then(response => {\r\n                let json = response.json();\r\n                if (!response.ok) {\r\n                    throw new Error(\"Network response was not ok\");\r\n                }\r\n                return json;\r\n            }).then(res => {\r\n                this.setState({ startDate: +res.result.startDate, endDate: +res.result.endDate })\r\n                this.getData(res.result.startDate, res.result.endDate);\r\n            })\r\n            .catch(error => {\r\n                alert(\"Something went wrong!\");\r\n                console.error(\r\n                    \"There has been a problem with your fetch operation:\",\r\n                    error\r\n                );\r\n            });\r\n    }\r\n\r\n    getData(startDate, endDate) {\r\n        let body = { \"_id\": \"Datastory_ChartId_1535224664111\", \"emailId\": \"candidate@sigmoid.com\", \"orgViewReq\": { \"organization\": \"DemoTest\", \"view\": \"Auction\" }, \"chartObject\": { \"metadata\": { \"title\": \"\", \"img_thumbnail\": \"images/pie.png\", \"chartType\": \"pie\", \"dataLimit\": 500 }, \"text\": [], \"requestParam\": { \"granularity\": \"hour\", \"timeZone\": { \"name\": \"UTC (+00:00)\", \"location\": \"UTC\" }, \"dateRange\": { \"startDate\": startDate, \"endDate\": endDate }, \"xAxis\": [\"D005\"], \"yAxis\": [], \"approxCountDistinct\": [], \"specialCalculation\": [\"CM001\"], \"filter\": [], \"orderBy\": { \"customMetricOrdByList\": [{ \"id\": \"CM001\", \"desc\": true }] }, \"percentCalList\": [{ \"id\": \"CM001\" }] } } };\r\n        fetch(\"https://sigview.sigmoid.io/api/v1/getData\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"x-auth-token\": localStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify(body)\r\n        })\r\n            .then(response => {\r\n                let json = response.json();\r\n                if (!response.ok) {\r\n                    throw new Error(\"Network response was not ok\");\r\n                }\r\n                return json;\r\n            }).then(res => {\r\n                this.setState({ data: res.result.data });\r\n            })\r\n            .catch(error => {\r\n                alert(\"Something went wrong!\");\r\n                console.error(\r\n                    \"There has been a problem with your fetch operation:\",\r\n                    error\r\n                );\r\n            });\r\n    }\r\n\r\n    render() {\r\n        let { startDate, endDate, data } = this.state;\r\n        return (\r\n            <div className=\"dashboard\" >\r\n                <h2>Data Analytics Application</h2>\r\n                <div className=\"startdate\">\r\n                    <p>Start date:</p>\r\n                    <DatePicker\r\n                        minDate={startDate}\r\n                        maxDate={endDate}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        selected={startDate}\r\n                        onChange={date => this.dateChangeFetchData(date.getTime(), null)}\r\n                        selectsStart\r\n                        startDate={startDate}\r\n                        endDate={endDate}\r\n                        placeholderText=\"Start Date\"\r\n                    />\r\n                </div>\r\n                <div className=\"enddate\">\r\n                    <p>End date:</p>\r\n                    <DatePicker\r\n                        minDate={startDate}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        maxDate={endDate}\r\n                        selected={endDate}\r\n                        onChange={date => this.dateChangeFetchData(null, date.getTime())}\r\n                        selectsEnd\r\n                        startDate={startDate}\r\n                        endDate={endDate}\r\n                        minDate={startDate}\r\n                        placeholderText=\"End Date\"\r\n                    />\r\n                </div>\r\n                <button className=\"reset\" onClick={this.getDateRange}>Reset</button>\r\n                <DoughnutChart data={data} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DashBoard;","import DashBoard from './components/DashboardComponent';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DashBoard />\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}