(this["webpackJsonpdata-analytics-app"]=this["webpackJsonpdata-analytics-app"]||[]).push([[0],{100:function(t,e,a){},260:function(t,e,a){"use strict";a.r(e);var n=a(6),r=a(3),o=a.n(r),i=a(25),s=a.n(i),c=(a(100),a(28)),d=a(30),h=a(88),u=a(89),l=a(29),g=a(94),p=a(93),D=a(63),m=a.n(D),b=a(90);a(81);var f=function(t){var e,a=[],r=[],o=t.data;console.log(o),o.map((function(t){return a.push(t.day)})),o.map((function(t){return r.push(100*+t.CM001)})),a.sort(),e=a.map((function(t){t=+t;var e=new Date(t);return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]+"\n"+String(e.getDate()).padStart(2,"0")+","+e.getFullYear()})),o.map((function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}));var i={labels:e,datasets:[{label:"First dataset",data:r,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)"}]};return Object(n.jsx)("div",{className:"chart",children:Object(n.jsx)(b.Line,{data:i,width:400,height:400,options:{maintainAspectRatio:!1}})})},j=(a(198),function(t){Object(g.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(h.a)(this,a),(n=e.call(this,t)).state={startDate:new Date,endDate:new Date,data:[]},n.getTokenAndData=n.getTokenAndData.bind(Object(l.a)(n)),n.getDateRange=n.getDateRange.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getTokenAndData()}},{key:"dateChangeFetchData",value:function(t,e){t&&this.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{startDate:t})}),this.fetchUpdatedDate),e&&this.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{endDate:e})}),this.fetchUpdatedDate)}},{key:"fetchUpdatedDate",value:function(){this.state.startDate&&this.state.endDate&&this.getData(this.state.startDate+"",this.state.endDate+"")}},{key:"getTokenAndData",value:function(){var t=this;fetch("https://sigviewauth.sigmoid.io/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"candidate@sigmoid.com",password:"Sigmoid#123",rememberMe:!0})}).then((function(t){var e=t.json();if(!t.ok)throw new Error("Network response was not ok");return e})).then((function(e){t.setState({token:e}),localStorage.setItem("token",t.state.token.token),t.getDateRange()})).catch((function(t){alert("Something went wrong!"),console.error("There has been a problem with your fetch operation:",t)}))}},{key:"getDateRange",value:function(){var t=this;fetch("https://sigviewauth.sigmoid.io/api/v1/getDateRange",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")},body:JSON.stringify({organization:"DemoTest",view:"Auction"})}).then((function(t){var e=t.json();if(!t.ok)throw new Error("Network response was not ok");return e})).then((function(e){t.setState({startDate:+e.result.startDate,endDate:+e.result.endDate}),t.getData(e.result.startDate,e.result.endDate)})).catch((function(t){alert("Something went wrong!"),console.error("There has been a problem with your fetch operation:",t)}))}},{key:"getData",value:function(t,e){var a=this,n={_id:"Datastory_ChartId_1535224664111",emailId:"candidate@sigmoid.com",orgViewReq:{organization:"DemoTest",view:"Auction"},chartObject:{metadata:{title:"",img_thumbnail:"images/pie.png",chartType:"pie",dataLimit:500},text:[],requestParam:{granularity:"hour",timeZone:{name:"UTC (+00:00)",location:"UTC"},dateRange:{startDate:t,endDate:e},xAxis:["D002"],yAxis:[],approxCountDistinct:[],specialCalculation:["CM001"],filter:[],orderBy:{dimOrdByList:[{id:"D002",desc:!0}]},percentCalList:[{id:"CM001"}]}}};fetch("https://sigview.sigmoid.io/api/v1/getData",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")},body:JSON.stringify(n)}).then((function(t){var e=t.json();if(!t.ok)throw new Error("Network response was not ok");return e})).then((function(t){a.setState({data:t.result.data})})).catch((function(t){alert("Something went wrong!"),console.error("There has been a problem with your fetch operation:",t)}))}},{key:"render",value:function(){var t,e=this,a=this.state,r=a.startDate,o=a.endDate,i=a.data;return Object(n.jsxs)("div",{className:"dashboard",children:[Object(n.jsx)("h2",{children:"Data Analytics Application"}),Object(n.jsxs)("div",{className:"startdate",children:[Object(n.jsx)("p",{children:"Start date:"}),Object(n.jsx)(m.a,{minDate:r,maxDate:o,dateFormat:"dd/MM/yyyy",selected:r,onChange:function(t){return e.dateChangeFetchData(t.getTime(),null)},selectsStart:!0,startDate:r,endDate:o,placeholderText:"Start Date"})]}),Object(n.jsxs)("div",{className:"enddate",children:[Object(n.jsx)("p",{children:"End date:"}),Object(n.jsx)(m.a,(t={minDate:r,dateFormat:"dd/MM/yyyy",maxDate:o,selected:o,onChange:function(t){return e.dateChangeFetchData(null,t.getTime())},selectsEnd:!0,startDate:r,endDate:o},Object(c.a)(t,"minDate",r),Object(c.a)(t,"placeholderText","End Date"),t))]}),Object(n.jsx)("button",{className:"reset",onClick:this.getDateRange,children:"Reset"}),Object(n.jsx)(f,{data:i})]})}}]),a}(r.Component));var y=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(j,{})})},v=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,264)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),o(t),i(t)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),v()},81:function(t,e,a){}},[[260,1,2]]]);
//# sourceMappingURL=main.5a5294c5.chunk.js.map